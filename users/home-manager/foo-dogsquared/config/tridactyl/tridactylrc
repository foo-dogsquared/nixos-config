" This enforces Tridactyl to only have this file as the source of truth.
" Also the first time you open Firefox with this Tridactyl configuration, you
" might want to restart immediately since the autocontainers are not in
" effect.
sanitise tridactyllocal tridactylsync

" Tridactyl settings.
set viewsource default
set auconcreatecontainer true

" This is giving me the most trouble since I use multiple extensions that
" makes use of contextual identities like Facebook and Google containers. If
" this is in strict mode, it'll result in Tridactyl and the other container
" extensions fighting for the control of the tab and infinitely reloading the
" tab. Not the greatest experience.
set autocontainmode relaxed
set minincsearchlen 4

" Disable update checks entirely. We're going to rely on the distro's
" packaging (or on nixpkgs entirely) to install the native messenger.
set update.nag false
set update.nativeinstallcmd echo

" Additional and modified keybindings.
bind yt tabduplicate
bind <C-Q> fillcmdline closecontainer

bind gK elementunhide

bind <C-F> fullscreen

bind gR reader --tab

" My default set of containers. Take note, we're assuming Facebook and Google
" containers extension is already installed and there's a reasonable set of
" default containers that are already configured for us.
containercreate Personal blue fingerprint
containercreate Self-hosted pink fingerprint
containercreate Work red briefcase
containercreate Banking green dollar
containercreate Shopping pink cart
containercreate Gaming turquoise chill

" Most of the MOOC are for personal purposes so it is in "Personal" container.
autocontain -s coursera\.org Personal
autocontain -s skillshare\.org Personal
autocontain -s edx\.org Personal

" Most of the news site I PERSONALLY visit are in "Personal" container, yes?
" Ideally, I should visit via web subscriptions in my Thunderbird thingy.
autocontain -s phoronix\.com Personal
autocontain -s omgubuntu\.co\.uk Personal
autocontain -s omglinux\.com Personal
autocontain -s lwn\.net Personal

" Ideally, this should be in Tangram or similar.
autocontain -s discourse\.nixos\.org Personal
autocontain -s discourse\.gohugo\.io Personal

" My self-hosted instances and my personal domain.
autocontain -s *\.local Self-hosted
autocontain -s *\.theinternaltld Self-hosted
autocontain -s foodogsquared\.one Self-hosted

" Most software forges should be separated.
autocontain -s hetzner\.com Work
autocontain -s digitalocean\.com Work
autocontain -s github\.com Work
autocontain -s gitlab\.com Work

" So does most freelancing sites.
autocontain -s upwork\.com Work
autocontain -s monster\.com Work
autocontain -s foundit\.com(\.ph?) Work

" Shopping, shopping, shopping!
autocontain -s yelp\.com Shopping
autocontain -s shopee\.(com|ph) Shopping
autocontain -s lazada\.com(\.ph?) Shopping
autocontain -s amazon\.com Shopping
autocontain -s ebay\.com Shopping
autocontain -s foodpanda\.(com|ph) Shopping
autocontain -s carousell\.ph Shopping
autocontain -s slickdeals\.net Shopping

" What's a shopping spree without your wallet.
autocontain -s paypal\.com(\.ph?) Banking
autocontain -s unionbankph\.com Banking
autocontain -s bdo\.com\.ph Banking
autocontain -s bpi\.com\.ph Banking
autocontain -s gcash\.com Banking
autocontain -s paymaya\.com Banking
autocontain -s metamask\.io Banking
autocontain -s uphold\.com Banking

" Potato gaming.
autocontain -s gog\.com Gaming
autocontain -s epicgames\.com Gaming
autocontain -s steampowered\.com Gaming
autocontain -s gamejolt\.com Gaming
autocontain -s itch\.io Gaming

" vim: ft=vim
